{"version":3,"file":"visual.js","mappings":"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","sources":["webpack:///./src/visual.ts","webpack:///external var \"Function('return this')()\"","webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///./.tmp/precompile/visualPlugin.ts"],"sourcesContent":["\"use strict\";\n\nimport powerbi from \"powerbi-visuals-api\";\nimport { FormattingSettingsService } from \"powerbi-visuals-utils-formattingmodel\";\nimport \"./../style/visual.less\";\n\nimport VisualConstructorOptions = powerbi.extensibility.visual.VisualConstructorOptions;\nimport VisualUpdateOptions = powerbi.extensibility.visual.VisualUpdateOptions;\nimport IVisual = powerbi.extensibility.visual.IVisual;\nimport DataView = powerbi.DataView;\nimport DataViewCategorical = powerbi.DataViewCategorical;\nimport DataViewValueColumns = powerbi.DataViewValueColumns;\n\nimport { VisualFormattingSettingsModel } from \"./settings\";\n\nexport class Visual implements IVisual {\n    private container: HTMLElement;\n\n    constructor(options: VisualConstructorOptions) {\n        this.container = document.createElement(\"div\");\n        this.container.className = \"customMatrixContainer\";\n        options.element.appendChild(this.container)\n    }\n\n    public update(options: VisualUpdateOptions) {\n        this.container.innerHTML = '';\n\n        const dataView: DataView = options.dataViews[0];\n        const categorical: DataViewCategorical = dataView.categorical;\n        const valueColumns: DataViewValueColumns = categorical.values;\n\n        const xDimension = categorical.categories[0].values;\n\n        let tableHeaders = '<tr>';\n        tableHeaders += '<th rowspan=\"2\">Estado</th>';\n        tableHeaders += `<th rowspan=\"2\">${valueColumns[0].source.displayName}</th>`;\n        tableHeaders += '<th colspan=\"3\">Mercado</th>';\n        tableHeaders += '<th colspan=\"3\">Farmacias (FP)</th>';\n        tableHeaders += '<th colspan=\"3\">Independientes (IND)</th>';\n        tableHeaders += '<th colspan=\"3\">Resto Cadenas (RC)</th>';\n        tableHeaders += '<th colspan=\"3\">Market Share (MS)</th>';\n        tableHeaders += '<th colspan=\"3\">Crecimiento MS</th>';\n        tableHeaders += '</tr>';\n\n        tableHeaders += '<tr>';\n        tableHeaders += '<th>Anterior</th>';\n        tableHeaders += '<th>Actual</th>';\n        tableHeaders += '<th>Crec.</th>';\n        tableHeaders += '<th>Anterior</th>';\n        tableHeaders += '<th>Actual</th>';\n        tableHeaders += '<th>Crec.</th>';\n        tableHeaders += '<th>Anterior</th>';\n        tableHeaders += '<th>Actual</th>';\n        tableHeaders += '<th>Crec.</th>';\n        tableHeaders += '<th>Anterior</th>';\n        tableHeaders += '<th>Actual</th>';\n        tableHeaders += '<th>Crec.</th>';\n        tableHeaders += '<th>FP</th>';\n        tableHeaders += '<th>IND</th>';\n        tableHeaders += '<th>RC</th>';\n        tableHeaders += '<th>FP</th>';\n        tableHeaders += '<th>IND</th>';\n        tableHeaders += '<th>RC</th>';\n        tableHeaders += '</tr>';\n\n        let tableRows = '';\n\n        let totalA = 0; //Bricks / JQ6\n        let totalB = 0; //Mercado Anterior\n        let totalC = 0; //Mercado Actual\n        let totalD = 0; //% Crecimiento\n        let totalE = 0; //Farmacias Anterior\n        let totalF = 0; //Farmacias Actual\n        let totalG = 0; //% Crecimiento\n        let totalH = 0; //Independientes Anterior\n        let totalI = 0; //Independientes Actual\n        let totalJ = 0; //% Crecimiento\n        let totalK = 0; //Resto Cadenas Anterior\n        let totalL = 0; //Resto Cadenas Actual\n        let totalM = 0; //% Crecimiento\n        let totalN = 0; //Market Shared FP\n        let totalO = 0; //Market Share IND\n        let totalP = 0; //Market Share RC\n        let totalQ = 0; //Crecimiento MS FP\n        let totalR = 0; //Crecimiento MS IND\n        let totalS = 0; //Crecimiento MS RC\n\n        const data = xDimension.map((v, i) => {\n            return {\n              dimension: String(v),\n              aValue: valueColumns[0].values[i] as number, // Brick / JQ6\n              bValue: valueColumns[1].values[i] as number, // Mercado Anterior\n              cValue: valueColumns[2].values[i] as number, // Mercado Actual\n              eValue: valueColumns[3].values[i] as number, // Farmacias Anterior\n              fValue: valueColumns[4].values[i] as number, // Farmacias Actual\n              hValue: valueColumns[5].values[i] as number, // Independientes Anterior\n              iValue: valueColumns[6].values[i] as number, // Independientes Actual\n              kValue: valueColumns[7].values[i] as number, // Resto Cadenas Anterior\n              lValue: valueColumns[8].values[i] as number, // Resto Cadenas Actual\n            };\n        });\n\n        data.sort((a, b) => {\n            if (a.dimension < b.dimension) return -1;\n            if (a.dimension > b.dimension) return 1;\n            return 0;\n        });\n\n        for (let i = 0; i < data.length; i++) {\n            let row = `<tr><td class=\"rh\">${data[i].dimension}</td>`;\n          \n            let aValue = data[i].aValue;\n            let bValue = data[i].bValue / 1000000;\n            let cValue = data[i].cValue / 1000000;\n            let dValue = ((cValue / bValue) - 1)*100;\n            let eValue = data[i].eValue / 1000000;\n            let fValue = data[i].fValue / 1000000;\n            let gValue = ((fValue / eValue) - 1)*100;\n            let hValue = data[i].hValue / 1000000;\n            let iValue = data[i].iValue / 1000000;\n            let jValue = ((iValue / hValue) - 1)*100;\n            let kValue = data[i].kValue / 1000000;\n            let lValue = data[i].lValue / 1000000;\n            let mValue = ((lValue / kValue) - 1)*100;\n            let nValue = (fValue / cValue) * 100;\n            let oValue = (iValue / cValue) * 100;\n            let pValue = (lValue / cValue) * 100;\n            let qValue = nValue - ((eValue / bValue) * 100);\n            let rValue = oValue - ((hValue / bValue) * 100);\n            let sValue = pValue - ((kValue / bValue) * 100);\n          \n            totalA += aValue;\n            totalB += bValue;\n            totalC += cValue;\n            totalE += eValue;\n            totalF += fValue;\n            totalH += hValue;\n            totalI += iValue;\n            totalK += kValue;\n            totalL += lValue;\n\n            row += `<td>${Number(aValue.toFixed(0)).toLocaleString()}</td>`;\n            row += `<td>${Number(bValue.toFixed(1)).toLocaleString()} mill.</td>`;\n            row += `<td>${Number(cValue.toFixed(1)).toLocaleString()} mill.</td>`;\n            row += `<td class=\"${dValue > 0 ? 'good' : 'bad'}\">${dValue.toFixed(1)} %</td>`;\n            row += gValue ? `<td>${Number(eValue.toFixed(1)).toLocaleString()} mill.</td>` : `<td></td>`;\n            row += gValue ?  `<td>${Number(fValue.toFixed(1)).toLocaleString()} mill.</td>` : `<td></td>`;\n            row += gValue ? `<td class=\"${gValue > 0 ? 'good' : 'bad'}\">${gValue.toFixed(1)} %</td>` : `<td></td>`;\n            row += `<td>${Number(hValue.toFixed(1)).toLocaleString()} mill.</td>`;\n            row += `<td>${Number(iValue.toFixed(1)).toLocaleString()} mill.</td>`;\n            row += `<td class=\"${jValue > 0 ? 'good' : 'bad'}\">${jValue.toFixed(1)} %</td>`;\n            row += `<td>${Number(kValue.toFixed(1)).toLocaleString()} mill.</td>`;\n            row += `<td>${Number(lValue.toFixed(1)).toLocaleString()} mill.</td>`;\n            row += `<td class=\"${mValue > 0 ? 'good' : 'bad'}\">${mValue.toFixed(1)} %</td>`;\n            row += gValue ? `<td>${nValue.toFixed(1)} %</td>` : `<td></td>`;\n            row += `<td>${oValue.toFixed(1)} %</td>`;\n            row += `<td>${pValue.toFixed(1)} %</td>`;\n            row += gValue ? `<td class=\"${qValue > 0 ? 'good' : 'bad'}\">${qValue.toFixed(1)} %</td>` : `<td></td>`;\n            row += `<td class=\"${rValue > 0 ? 'good' : 'bad'}\">${rValue.toFixed(1)} %</td>`;\n            row += `<td class=\"${sValue > 0 ? 'good' : 'bad'}\">${sValue.toFixed(1)} %</td>`;\n          \n            row += '</tr>';\n            tableRows += row;\n        }\n\n        totalD = ((totalC / totalB) - 1)*100;\n        totalG = ((totalF / totalE) - 1)*100;\n        totalJ = ((totalI / totalH) - 1)*100;\n        totalM = ((totalL / totalK) - 1)*100;\n        totalN = (totalF / totalC) * 100;\n        totalO = (totalI / totalC) * 100;\n        totalP = (totalL / totalC) * 100;\n        totalQ = totalN - ((totalE / totalB) * 100);\n        totalR = totalO - ((totalH / totalB) * 100);\n        totalS = totalP - ((totalK / totalB) * 100);\n\n        let totalRow = `<tr class=\"totalRow\">\n                            <td style=\"text-align: center\">Total</td>\n                            <td>${Number(totalA.toFixed(0)).toLocaleString()}</td>\n                            <td>${Number(totalB.toFixed(1)).toLocaleString()} mill.</td>\n                            <td>${Number(totalC.toFixed(1)).toLocaleString()} mill.</td>\n                            <td>${totalD.toFixed(1)} %</td>\n                            <td>${Number(totalE.toFixed(1)).toLocaleString()} mill.</td>\n                            <td>${Number(totalF.toFixed(1)).toLocaleString()} mill.</td>\n                            <td>${totalG.toFixed(1)} %</td>\n                            <td>${Number(totalH.toFixed(1)).toLocaleString()} mill.</td>\n                            <td>${Number(totalI.toFixed(1)).toLocaleString()} mill.</td>\n                            <td>${totalJ.toFixed(1)} %</td>\n                            <td>${Number(totalK.toFixed(1)).toLocaleString()} mill.</td>\n                            <td>${Number(totalL.toFixed(1)).toLocaleString()} mill.</td>\n                            <td>${totalM.toFixed(1)} %</td>\n                            <td>${totalN.toFixed(1)} %</td>\n                            <td>${totalO.toFixed(1)} %</td>\n                            <td>${totalP.toFixed(1)} %</td>\n                            <td>${totalQ.toFixed(1)} %</td>\n                            <td>${totalR.toFixed(1)} %</td>\n                            <td>${totalS.toFixed(1)} %</td>\n                        </tr>`;\n        tableRows += totalRow;\n\n        const tableHtml = `\n            <table class=\"customMatrix\">\n                <thead>\n                ${tableHeaders}\n                </thead>\n                <tbody>\n                ${tableRows}\n                </tbody>\n            </table>\n        `;\n\n        this.container.innerHTML = tableHtml;\n    }\n}\n","module.exports = Function('return this')();","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { Visual } from \"../../src/visual\";\nimport powerbiVisualsApi from \"powerbi-visuals-api\";\nimport IVisualPlugin = powerbiVisualsApi.visuals.plugins.IVisualPlugin;\nimport VisualConstructorOptions = powerbiVisualsApi.extensibility.visual.VisualConstructorOptions;\nimport DialogConstructorOptions = powerbiVisualsApi.extensibility.visual.DialogConstructorOptions;\nvar powerbiKey: any = \"powerbi\";\nvar powerbi: any = window[powerbiKey];\nvar customMatrix65190D7E3EF14C42BD007796160B5437_DEBUG: IVisualPlugin = {\n    name: 'customMatrix65190D7E3EF14C42BD007796160B5437_DEBUG',\n    displayName: 'CustomMatrix',\n    class: 'Visual',\n    apiVersion: '5.1.0',\n    create: (options: VisualConstructorOptions) => {\n        if (Visual) {\n            return new Visual(options);\n        }\n        throw 'Visual instance not found';\n    },\n    createModalDialog: (dialogId: string, options: DialogConstructorOptions, initialState: object) => {\n        const dialogRegistry = globalThis.dialogRegistry;\n        if (dialogId in dialogRegistry) {\n            new dialogRegistry[dialogId](options, initialState);\n        }\n    },\n    custom: true\n};\nif (typeof powerbi !== \"undefined\") {\n    powerbi.visuals = powerbi.visuals || {};\n    powerbi.visuals.plugins = powerbi.visuals.plugins || {};\n    powerbi.visuals.plugins[\"customMatrix65190D7E3EF14C42BD007796160B5437_DEBUG\"] = customMatrix65190D7E3EF14C42BD007796160B5437_DEBUG;\n}\nexport default customMatrix65190D7E3EF14C42BD007796160B5437_DEBUG;"],"names":[],"sourceRoot":""}